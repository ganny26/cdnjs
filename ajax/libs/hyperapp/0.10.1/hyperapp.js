!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.hyperapp={})}(this,function(e){"use strict";e.h=function(e,n){for(var t,r=[],a=[],o=arguments.length;o-- >2;)r[r.length]=arguments[o];for(;r.length;)if(Array.isArray(t=r.pop()))for(o=t.length;o--;)r[r.length]=t[o];else null!=t&&!0!==t&&!1!==t&&("number"==typeof t&&(t+=""),a[a.length]=t);return"string"==typeof e?{tag:e,data:n||{},children:a}:e(n,a)},e.app=function(e){function n(){w||requestAnimationFrame(r,w=!w)}function t(e,n){return null==e?e:{tag:e.tagName,data:{},children:n.call(e.childNodes,function(e){t(e,n)})}}function r(){h=s(k,h,v,v=o("render",b)(p,g)),w=!w,x||o("loaded",x=!0)}function a(e,t,r){Object.keys(t||[]).map(function(l){var u=t[l],f=r?r+"."+l:l;"function"==typeof u?e[l]=function(e){var t=u(p,g,o("action",{name:f,data:e}).data);return null!=t&&null==t.then&&n(p=i(p,o("update",t))),t}:a(e[l]||(e[l]={}),u,f)})}function o(e,n){return(m[e]||[]).map(function(e){var t=e(p,g,n);null!=t&&(n=t)}),n}function i(e,n){if("object"!=typeof n)return n;var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function l(e){if(e&&(e=e.data))return e.key}function u(e,n){if("string"==typeof e)t=document.createTextNode(e);else{for(var t=(n=n||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),r=0;r<e.children.length;)t.appendChild(u(e.children[r++],n));for(var r in e.data)"oncreate"===r?e.data[r](t):"oninsert"===r?setTimeout(e.data[r],0,t):f(t,r,e.data[r])}return t}function f(e,n,t,r){if("key"===n||"oncreate"===n||"oninsert"===n||"onupdate"===n||"onremove"===n)return n;if("style"===n)for(var a in i(r,t=t||{}))e.style[a]=t[a]||"";else{try{e[n]=t}catch(e){}"function"!=typeof t&&(t?e.setAttribute(n,t):e.removeAttribute(n))}}function c(e,n,t,r){for(var a in i(n,t)){var o=t[a],l=n[a];o!==l&&o!==e[a]&&null==f(e,a,o,l)&&(r=t.onupdate)}null!=r&&r(e)}function d(e,n,t){t&&t.onremove?t.onremove(n):e.removeChild(n)}function s(e,n,t,r,a,o){if(null==t)n=e.insertBefore(u(r,a),n);else if(null!=r.tag&&r.tag===t.tag){c(n,t.data,r.data),a=a||"svg"===r.tag;for(var i=r.children.length,f=t.children.length,v={},h=[],p={},g=0;g<f;g++)y=n.childNodes[g],h[g]=y,null!=(A=l(b=t.children[g]))&&(v[A]=[y,b]);for(var g=0,m=0;m<i;){var y=h[g],b=t.children[g],k=r.children[m];if(p[A=l(b)])g++;else{var w=l(k),x=v[w]||[];null==w?(null==A&&(s(n,y,b,k,a),m++),g++):(A===w?(s(n,x[0],x[1],k,a),g++):x[0]?(n.insertBefore(x[0],y),s(n,x[0],x[1],k,a)):s(n,y,null,k,a),m++,p[w]=k)}}for(;g<f;){var A=l(b=t.children[g]);null==A&&d(n,h[g],b.data),g++}for(var g in v){var N=(x=v[g])[1];p[N.data.key]||d(n,x[0],N.data)}}else null!=(o=n)&&r!==t&&r!==n.nodeValue&&e.replaceChild(n=u(r,a),o);return n}for(var v,h,p={},g={},m={},y=[],b=e.view,k=e.root||document.body,w=!1,x=!1,A=-1;A<y.length;A++){var N=y[A]?y[A](o):e;Object.keys(N.events||[]).map(function(e){m[e]=(m[e]||[]).concat(N.events[e])}),null!=N.state&&(p=i(p,N.state)),y=y.concat(N.mixins||[]),a(g,N.actions)}return v=t(h=k.querySelector("[data-ssr]"),[].map),n(o("init")),o}});
//# sourceMappingURL=hyperapp.js.map
