{"version":3,"sources":["viewport-units-buggyfill.js"],"names":["root","factory","define","amd","exports","module","viewportUnitsBuggyfill","this","debounce","func","wait","timeout","context","args","arguments","clearTimeout","setTimeout","apply","inIframe","window","self","top","e","updateStyles","styleNode","textContent","getReplacedViewportUnits","parentNode","appendChild","dispatchEvent","CustomEvent","refresh","initialized","findProperties","processStylesheet","ss","cssRules","name","rules","i","length","rule","push","declarations","forEach","call","document","styleSheets","sheet","ownerNode","id","getAttribute","media","mediaText","matchMedia","matches","findDeclarations","type","value","cssText","viewportUnitExpression","lastIndex","test","urlExpression","options","hacks","style","getPropertyValue","getPropertyPriority","_rule","dimensions","getViewport","open","close","css","buffer","item","_item","overwriteDeclaration","_open","selector","join","_close","Array","content","isOperaMini","_value","_selectors","replace","replaceValues","selectorText","parentRule","unshift","conditionText","match","number","unit","_base","parseFloat","vh","innerHeight","vw","innerWidth","vmax","Math","max","vmin","min","importCrossOriginLinks","next","_waiting","decrease","href","origin","location","convertLinkToStyle","url","slice","indexOf","link","getCors","createElement","setAttribute","responseText","replaceChild","success","error","xhr","XMLHttpRequest","XDomainRequest","Error","onload","onerror","send","userAgent","navigator","isBuggyIE","isOldIE","isMobileSafari","iOSversion","parseInt","isBadStockAndroid","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Event","version","getCss","init","initOptions","force","ignoreVmax","required","console","info","initialize","appendToBody","_refresh","refreshDebounceWait","addEventListener","_listeningToResize","initializeEvents"],"mappings":"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"}