!function(t){t.fn.cardtable=function(a){var s=this,d={headIndex:0},l=t.extend({},d,a);return a&&a.headIndex?a.headIndex:0,s.each(function(){var a=t(this);if(!a.hasClass("stacktable")){var s=t(this).prop("class"),d=t("<div></div>");void 0!==l.myClass&&d.addClass(l.myClass);var e,n,h,i,r,c="";a.addClass("stacktable large-only"),e=a.find("caption").clone(),n=a.find("tr").eq(0),a.find("tbody tr").each(function(){h="",i="",r=t(this).prop("class"),t(this).find("td,th").each(function(a){""!==t(this).html()&&(i+='<tr class="'+r+'">',n.find("td,th").eq(a).html()?i+='<td class="st-key">'+n.find("td,th").eq(a).html()+"</td>":i+='<td class="st-key"></td>',i+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",i+="</tr>")}),c+='<table class=" '+s+' stacktable small-only"><tbody>'+h+i+"</tbody></table>"}),a.find("tfoot tr td").each(function(a,d){""!==t.trim(t(d).text())&&(c+='<table class="'+s+' stacktable small-only"><tbody><tr><td>'+t(d).html()+"</td></tr></tbody></table>")}),d.prepend(e),d.append(t(c)),a.before(d)}})},t.fn.stacktable=function(a){var s,d=this,l={headIndex:0},e=t.extend({},l,a);return s=a&&a.headIndex?a.headIndex:0,d.each(function(){var a=t(this).prop("class"),d=t('<table class="'+a+' stacktable small-only"><tbody></tbody></table>');void 0!==e.myClass&&d.addClass(e.myClass);var l,n,h,i,r,c,o="";(l=t(this)).addClass("stacktable large-only"),n=l.find("caption").clone(),h=l.find("tr").eq(0),l.find("tr").each(function(a){i="",r="",c=t(this).prop("class"),0===a?o+='<tr class=" '+c+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find("th,td").eq(s).html()+"</th></tr>":(t(this).find("td,th").each(function(a){a===s?i='<tr class="'+c+'"><th class="st-head-row" colspan="2">'+t(this).html()+"</th></tr>":""!==t(this).html()&&(r+='<tr class="'+c+'">',h.find("td,th").eq(a).html()?r+='<td class="st-key">'+h.find("td,th").eq(a).html()+"</td>":r+='<td class="st-key"></td>',r+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",r+="</tr>")}),o+=i+r)}),d.prepend(n),d.append(t(o)),l.before(d)})},t.fn.stackcolumns=function(a){var s=this,d={},l=t.extend({},d,a);return s.each(function(){var a=t(this),s=a.find("tr").eq(0).find("td,th").length;if(!(s<3)){var d=t('<table class="stacktable small-only"></table>');void 0!==l.myClass&&d.addClass(l.myClass),a.addClass("stacktable large-only");for(var e=t("<tbody></tbody>"),n=1;n<s;)a.find("tr").each(function(a){var s=t("<tr></tr>");0===a&&s.addClass("st-head-row st-head-row-main");var d=t(this).find("td,th").eq(0).clone().addClass("st-key"),l=n;if(t(this).find("*[colspan]").length){var h=0;t(this).find("td,th").each(function(){var a=t(this).attr("colspan");if(a?(a=parseInt(a,10),l-=a-1,h+a>n&&(l+=h+a-n-1),h+=a):h++,h>n)return!1})}var i=t(this).find("td,th").eq(l).clone().addClass("st-val").removeAttr("colspan");s.append(d,i),e.append(s)}),++n;d.append(t(e)),a.before(d)}})}}(jQuery);